---
import Frontend from "@components/section1/Frontend.astro";
import Dev from "@components/section1/Dev.astro";
import linesImage from "@assets/section1-bottom-lines.svg";
import wheelOutside from "@assets/section1-wheel-outside.svg";
import wheelInner from "@assets/section1-wheel-inner.svg";
import Webdesign from "@components/section1/Webdesign.astro";
import TypeEffect from "@components/section1/TypeEffect.astro";
import TypeEffect1 from "@components/section1/TypeEffect1.astro";
import Facemask from "@components/section1/Facemask.astro";
import Eye from "@components/section1/Eye.astro";
import Dron from "@components/Dron.astro";
// Get language from component in Index.astro
const language = Astro.props.language;
---

<Dron />
<section class="section section1">
  <div class="top">
    <div class="switcher">
      <a href="/" class={language==="en" ? "active" : ""}>EN</a>
      <a href="/es" class={language === "es" ? "active" : ""}>ES</a>
    </div>
    <Eye fill="#787878" />
    <Frontend />
    <Facemask responsive="mobile" />
  </div>
  <div class="bottom">
    <div class="vertical-lines">
      <!-- <div class="name">Roberto Stringa</div> -->
    </div>
    <Dev />
    <TypeEffect1 language={language} />
    <div class="box-lines">
      <div class="box-type_effect">
        <span>{language === "es" ? "Hola, " : "Hi, "}</span><TypeEffect
          language={language}
        />
      </div>
      <div class="wheel">
        <img class="wheel-outside" src={wheelOutside.src} alt="" />
        <img class="wheel-inner" src={wheelInner.src} alt="" />
      </div>
      <div class="lines">
        <img class="image-lines" src={linesImage.src} alt="" height="186" />
        <Eye fill="var(--primary-color, #fff)" />
        <div class="contact-text">
          <a href="#contact" title="Contact US"
            >{language === "es" ? "Cont√°ctame" : "Contact me"}</a
          >
        </div>
      </div>
      <Webdesign />
      <Facemask />
    </div>
  </div>
</section>

<style>
  .section1 {
    --primary-color: #ff9500;
    --light-lines: #ffc107;
    overflow: clip;
    
    & img {
      max-width: 100%;
    }
  }

  .top {
    background: url(../assets/section1-top-bg-50.webp) no-repeat center;
    background-size: cover;
    width: 100vw;
    height: 40dvh;
    position: relative;
    display: flex;
    justify-content: center;
    @media (max-width: 768px) {
      height: 30dvh;
    }
    &:after {
      content: "";
      position: absolute;
      z-index: 1;
      inset: 0;
      background: rgba(0, 0, 0, 0.9);
    }
    & .eye {
      position: absolute;
      top: 27px;
      right: 10%;
      z-index: 5;
    }
  }
  .switcher {
    position: absolute;
    top: 32px;
    right: calc(10% + 80px);
    z-index: 5;
    display: flex;
    gap: 5px;
    @media (max-width: 767px) {
      right: auto;
      left: 50%;
      transform: translateX(-50%);
    }
    & a {
      font-size: 12px;
      color: #fff;
      text-decoration: none;
      text-transform: capitalize;
      position: relative;
      display: inline-flex;
      font-weight: 400;
      border: 1px solid #111;
      border-radius: 30px;
      padding: 4px 15px;
      @media (max-width: 767px) {
        font-size: 14px;
      }
      &:hover {
        border-color: #ffffffaf;
        color: #ffffffaf;
      }
      &.active {
        border-color: #ff9800;
        color: #ff9800;
      }
    }
  }
  .bottom {
    background: #ff9500;
    width: 100vw;
    height: 60dvh;
    min-height: max-content;
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    overflow: hidden;
    padding-bottom: 20px;
    @media (max-width: 768px) {
      height: 70dvh;
    }
    & .vertical-lines {
      position: absolute;
      z-index: 2;
      top: 0;
      left: calc(50%);
      transform: translateX(-50%);
      width: 1250px;
      height: 100%;
      border-left: 1px solid var(--light-lines);
      border-right: 1px solid var(--light-lines);
      pointer-events: none;

      /* & .name {
        position: relative;
        top:50%;
        text-transform: uppercase;
        font-weight: 200;
        font-size: 21px;
      } */
    }
  }
  .contact-text {
    position: absolute;
    z-index: 10;
    bottom: 0;
    left: calc(50% - 50px);
    animation: glitch-text 5s cubic-bezier(0.175, 0.885, 0.32, 1.275) infinite
      alternate;
    &:hover {
      animation-play-state: paused;
      animation-fill-mode: forwards;
    }
    @media (max-width: 768px) {
      left: calc(50% - 25px);
    }
    & a {
      color: #111;
      text-decoration: none;
      text-transform: capitalize;
      position: relative;
      display: inline-flex;
      font-weight: 900;
      border: 1px solid #111;
      border-radius: 8px;
      padding: 5px 15px;
      &:hover {
        border-color: #fff;
        color: #000;
      }
    }
  }
  .box-lines {
    margin-top: 5dvh;
    background: url("../assets/section1-blurtext.webp") no-repeat right 10px;
    background-size: contain;
    position: relative;
    @media (max-width: 767px) {
      aspect-ratio: 16/9;
    }
    & .lines {
      position: relative;
      overflow: hidden;
      max-width: 100vw;
      & .image-lines {
        min-width: 1250px;
      }
      & .eye {
        position: absolute;
        top: 27px;
        left: calc(42% + 5px);
        @media (max-width: 1210px) {
          left: calc(50%);
          top: 0;
        }
        @media (max-width: 768px) {
          display: none;
        }
      }
    }
    .wheel {
      position: absolute;
      bottom: -20px;
      display: flex;
      justify-content: center;
      align-items: center;
      left: 5vw;
      width: 135px;
      animation: float-wheel 10s ease-out infinite;
      @media (max-width: 1024px) {
        bottom: 0vh;
        width: 130px;
      }
      .wheel-outside {
        width: 100%;
        height: 100%;
        animation: rotate 10s cubic-bezier(0.075, 0.82, 0.165, 1) infinite;
        transform-origin: center;
      }
      .wheel-inner {
        position: absolute;
        top: 0;
        left: -12px;
        width: 100%;
        height: 100%;
        z-index: 2;
      }
    }
  }
  .box-type_effect {
    display: flex;
    position: absolute;
    left: 70px;
    align-items: center;
    justify-content: center;
    & span {
      padding-right: 5px;
    }
    & p {
      background-color: #111;
      color: #fff;
      padding: 0 5px;
    }
  }

  @keyframes glitch-text {
    0% {
      transform: translate(0, 0);
      filter: blur(0px);
    }
    25% {
      transform: translate(5px, -5px);
      filter: blur(0px);
    }
    50% {
      transform: translate(0, -10px);
      filter: blur(20px);
    }
    75% {
      transform: translate(-5px, -2px);
      filter: blur(0px);
    }
    100% {
      transform: translate(0, 0);
      filter: blur(0px);
    }
  }

  @keyframes rotate {
    from {
      transform: rotate(0deg);
      filter: drop-shadow(5px 5px 10px #111);
    }
    to {
      transform: rotate(360deg);
      filter: drop-shadow(2px 2px 0px transparent);
    }
  }

  @keyframes float-wheel {
    0% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
    100% {
      transform: translateY(0);
    }
  }
</style>
